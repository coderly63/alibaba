<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <p>
      Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
      eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
      voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
      clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit
      amet.
    </p>
    <script>
      function insertBreakAtPoint(e) {
        var range
        var textNode
        var offset

        range = document.caretRangeFromPoint(e.clientX, e.clientY)
        console.log('range: ', range);
        textNode = range.startContainer
        offset = range.startOffset

        // only split TEXT_NODEs
        // if (textNode && textNode.nodeType == 3) {
        //   var replacement = textNode.splitText(offset)
        //   var br = document.createElement('br')
        //   textNode.parentNode.insertBefore(br, replacement)
        // }
      }

      var paragraphs = document.getElementsByTagName('p')
      for (i = 0; i < paragraphs.length; i++) {
        paragraphs[i].addEventListener('click', insertBreakAtPoint, false)
      }
    </script>
  </body>
</html>
